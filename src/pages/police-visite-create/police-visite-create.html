<!--
  Generated template for the PoliceVisiteCreate page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Enrégistrement</ion-title>
        <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span color="primary" showWhen="ios">Annuler</span>
        <ion-icon name="md-close" showWhen="android,windows,core"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content padding>
    <ion-list-header text-wrap >
   <h2 *ngIf="objet=='visite'">Visite technique</h2>
   <h2 *ngIf="objet=='police'">Police d'assurance</h2>
  </ion-list-header>
  <form #form="ngForm" (ngSubmit)="onSubmit(ngForm)"  novalidate>
<ion-list >
  <ion-item>
  <ion-label color="primary" floating><span *ngIf="objet=='police'">Date de souscription</span> <span *ngIf="objet=='visite'">Date de la visite</span></ion-label>
  <ion-datetime 
     displayFormat="DD/MM/YYYY"
     pickerFormat="D MMM  YYYY" min="2010" max="2050"
     doneText="Terminé" cancelText="Annuler"
     name="startDate"
     [(ngModel)]="entity.startDate"
      #date="ngModel"></ion-datetime>
</ion-item>
  <ion-item>
  <ion-label color="primary" floating><span >Date d'expiration</span> </ion-label>
  <ion-datetime 
     displayFormat="DD/MM/YYYY"
     pickerFormat="D MMM  YYYY" min="2010" max="2050" 
     doneText="Terminé" cancelText="Annuler"
     name="endDate"
     [(ngModel)]="entity.endDate"
      #expire_date="ngModel"></ion-datetime>
</ion-item>
  <ion-item >
<ion-label color="primary" floating><span *ngIf="objet=='police'">Coût de l'assurance</span> <span *ngIf="objet=='visite'">Coût de la visite</span> ( {{devise}})</ion-label>
    <ion-input [(ngModel)]="entity.cout" name="cout" type="number" placeholder="" #cout="ngModel"></ion-input>
  </ion-item>
   </ion-list>
  <div padding>
  <button ion-button full  icon-right  [disabled]="isInvalid()|| submitted" type="submit"  [ngClass]="setClass()"> 
    <span *ngIf="!submitted && action=='edit'">Mettre à jour</span>
    <span *ngIf="!submitted && action=='create'&& objet=='police'">Enrégistrer la police <ion-icon name="md-done-all"></ion-icon></span>
    <span *ngIf="!submitted && action=='create' && objet=='visite'">Enrégistrer la visite <ion-icon name="md-done-all"></ion-icon></span>
       <ion-spinner [color]="spinnerColor" *ngIf="submitted"></ion-spinner>
     </button>      
  </div>
   </form>
  <div padding center *ngIf="action=='edit'">
  <button ion-button  outline block  color="danger"[disabled]="submitted" icon-right (click)="showConfirm()">
     Supprimer 
     <span *ngIf="objet=='p'">la police</span>
     <span *ngIf="objet=='v'">la visite</span>
     <ion-icon name="ios-close-circle"></ion-icon></button>      
  </div>

 <div  padding >
   <p *ngIf="objet=='police'">
    <ion-icon name="md-information-circle" ></ion-icon> 
     Une police d'assurance en cours de validité est obligatoire pour tous les véhicules..
   </p>
   <p *ngIf="objet=='visite'">
    <ion-icon name="md-information-circle" ></ion-icon> Votre véhicule quel au'il
     soit doit passer régulierement des vistes techniques.
   </p>
 </div>

</ion-content>
